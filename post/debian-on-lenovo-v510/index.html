<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academia 4.3.1">
  <meta name="generator" content="Hugo 0.68.3" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="TomÃ¡s S. Grigera">

  
  
  
    
  
  <meta name="description" content="I have recently installed Debian GNU/Linux on a Lenovo V510. It got working almost out of the box (I explain below what needed fixing), and everything seems to be running now. I experienced random freezing of the machine at first, but the issue seems to be solved (see below). Installation   I did a net install of Debian 9.1 (stretch). In the BIOS screen I turned off secure boot and set boot mode to UEFI (no BIOS compatibility).">

  
  <link rel="alternate" hreflang="en-us" href="https://tgrigera.github.io/post/debian-on-lenovo-v510/">

  


  

  
  
  
  <meta name="theme-color" content="#fc6f5c">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Roboto:400,400italic,700|Roboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academia.min.1cb3ac49332c2574347cb83174f02db0.css">

  

  
  
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://tgrigera.github.io/post/debian-on-lenovo-v510/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@grigeratomas">
  <meta property="twitter:creator" content="@grigeratomas">
  
  <meta property="og:site_name" content="T. S. Grigera">
  <meta property="og:url" content="https://tgrigera.github.io/post/debian-on-lenovo-v510/">
  <meta property="og:title" content="Installing Debian GNU/Linux on the Lenovo V510 | T. S. Grigera">
  <meta property="og:description" content="I have recently installed Debian GNU/Linux on a Lenovo V510. It got working almost out of the box (I explain below what needed fixing), and everything seems to be running now. I experienced random freezing of the machine at first, but the issue seems to be solved (see below). Installation   I did a net install of Debian 9.1 (stretch). In the BIOS screen I turned off secure boot and set boot mode to UEFI (no BIOS compatibility)."><meta property="og:image" content="https://tgrigera.github.io/img/icon-192.png">
  <meta property="twitter:image" content="https://tgrigera.github.io/img/icon-192.png"><meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-09-15T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2017-09-15T00:00:00&#43;00:00">
  

  


  





  <title>Installing Debian GNU/Linux on the Lenovo V510 | T. S. Grigera</title>

</head>


<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">T. S. Grigera</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"><span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#first"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/teaching/"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post/"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        

        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article py-5" itemscope itemtype="http://schema.org/Article">

  












    

    
    
    
    <div class="article-container py-3">
      <h1 itemprop="name">Installing Debian GNU/Linux on the Lenovo V510</h1>

      

      
      



<meta content="2017-09-15 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2017-09-15 00:00:00 &#43;0000 UTC" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>Sep 15, 2017</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="/post/debian-on-lenovo-v510/#disqus_thread"></a>
  

  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://tgrigera.github.io/post/debian-on-lenovo-v510/&amp;text=Installing%20Debian%20GNU/Linux%20on%20the%20Lenovo%20V510" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://tgrigera.github.io/post/debian-on-lenovo-v510/&amp;t=Installing%20Debian%20GNU/Linux%20on%20the%20Lenovo%20V510" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Installing%20Debian%20GNU/Linux%20on%20the%20Lenovo%20V510&amp;body=https://tgrigera.github.io/post/debian-on-lenovo-v510/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://tgrigera.github.io/post/debian-on-lenovo-v510/&amp;title=Installing%20Debian%20GNU/Linux%20on%20the%20Lenovo%20V510" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Installing%20Debian%20GNU/Linux%20on%20the%20Lenovo%20V510%20https://tgrigera.github.io/post/debian-on-lenovo-v510/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://tgrigera.github.io/post/debian-on-lenovo-v510/&amp;title=Installing%20Debian%20GNU/Linux%20on%20the%20Lenovo%20V510" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

      














      
      
    </div>
  </div>
</div>

  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      
<p>
I have recently installed Debian GNU/Linux on a Lenovo V510.  It got
working almost out of the box (I explain below what needed fixing),
and everything seems to be running now.  I experienced random freezing
of the machine at first, but the issue seems to be solved (see
below).
</p>
<h3 id="headline-1">
Installation
</h3>
<p>
I did a net install of Debian 9.1 (stretch).  In the BIOS screen I
turned off secure boot and set boot mode to UEFI (no BIOS
compatibility).  I booted the installer from a CD.  The installer did
not recognise the wireless LAN, so I had to use the wired Ethernet
port.  The installer complained about missing firmware but it could
connect to the repositories and complete the installation.
</p>
<h3 id="headline-2">
Missing firmware
</h3>
<p>
The needed firmware can be downloaded with <code class="verbatim">aptitude</code> or <code class="verbatim">apt-get</code>
after first booting into the new system (you need to add the <code>nonfree</code>
section of the repositories).  The needed packages are
<code class="verbatim">firmware-amd-graphics</code>, <code class="verbatim">firmware-iwlwifi</code>, and <code class="verbatim">firmware-realtek</code>
</p>
<h3 id="headline-3">
Wireless LAN
</h3>
<p>
After getting the firmware and rebooting, the firmware for the
graphics card and the Ethernet card was found and loaded.  The kernel
still complained about missing firmware for the WIFI card, but it
found and loaded an earlier version which works just fine.  Now the
card was found
</p>
<pre class="example">
$ ip address
wlp3s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
   link/ether 98:54:1b:76:36:3f brd ff:ff:ff:ff:ff:ff
</pre>
<p>
but it did not work.  The culprit (after some googling) turned out to
be the <code class="verbatim">ideapad_laptop</code> module, which must be removed. I added the
line
</p>
<pre class="example">
blacklist ideapad_laptop
</pre>
<p>
to <code class="verbatim">/etc/modprobe.d/blacklist.conf</code> and after rebooting the WIFI
started working
</p>
<h3 id="headline-4">
Bluetooth, sound, camera, SD card reader
</h3>
<p>
All these worked out of the box.  I haven&#39;t fully tested Bluetooth,
but it did find and connect to my phone.
</p>
<h3 id="headline-5">
Fingerprint reader
</h3>
<p>
Install <code class="verbatim">dirmngr</code>
</p>
<pre class="example">
sudo apt-get install dirmngr
</pre>
<p>
then follow the instructions at <a href="https://launchpad.net/~fingerprint/+archive/ubuntu/fingerprint-gui">launchpad.net</a>.  The device worked but
I cannot use it to log in with <code class="verbatim">gdm</code> (it works for <code class="verbatim">sudo</code>, which is
not particularly useful).  There is likely a configuration problem
related to <code class="verbatim">pam</code> which I could not fix, and do not have the time to
dig into this.  But the hardware is working, and maybe you have better
luck with Ubuntu (the fingerprint packages are actually made for
Ubuntu, not Debian).
</p>
<p>
To uninstall fingerprint, remember to reinstall the appropriate
policykit, in my case for Gnome:
</p>
<pre class="example">
sudo apt-get install policykit-1-gnome
sudo apt-get remove fingerprint-gui
</pre>
<h3 id="headline-6">
Freezing issue
</h3>
<p>
After I got the machine up, I experienced several instance of complete
freezing (screen, keyboard, mouse) of the machine, which required
poweroff/poweron to recover.  It happened while reading PDFs with
<code class="verbatim">evince</code>, apparently while trying to scroll the document.  It also
happened once during a video call.
</p>
<p>
Googling, I found several people reporting this issue, and several
culprits and solutions suggested.  Given the circumstances under which
it happened, I suspected video card or driver problems, and I found in
the ArchLinux wiki a reference to problems with the driver for the
Intel graphic card.  The wiki suggested disabling the 3D hardware
acceleration as a workaround, which I did following their
instructions.  I created the file <code class="verbatim">/etc/X11/xorg.conf.d/20-intel.conf</code>
with the following content and rebooted:
</p>
<pre class="example">
Section &#34;Device&#34;

  Identifier &#34;Intel Graphics&#34;
  Driver     &#34;intel&#34;

  Option &#34;DRI&#34; &#34;False&#34;

EndSection
</pre>
<p>
The freezing has not occurred again since this configuration change.
</p>

    </div>

    

<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/debian/">Debian</a>
  
</div>



    
      








  





  
  
  
    
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    
      <img class="portrait mr-3" src="https://s.gravatar.com/avatar/74d739425dff6c20b8040a5878d313e1?s=200')" itemprop="image" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="https://tgrigera.github.io">TomÃ¡s S. Grigera</a></h5>
      
      
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
          <li>
            <a itemprop="sameAs" href="mailto:tgrigera@iflysib.unlp.edu.ar" >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://twitter.com/grigeratomas" target="_blank" rel="noopener">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          
          
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://scholar.google.com/citations?user=k1VIM6cAAAAJ&amp;hl=es" target="_blank" rel="noopener">
              <i class="ai ai-google-scholar"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://github.com/tgrigera" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>



      
      
    

    

    
<section id="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "tgrigera-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



  </div>
</article>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    
    <script id="dsq-count-scr" src="//tgrigera-github-io.disqus.com/count.js" async></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    

    
    

    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academia.min.7276a6a3624de715a5c7f54c7c07696d.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">

  <div class="container">
    <div class="row">
      <div class="col-md-6">
        
        <p>
          Â© T. S. Grigera 2020 &middot; 
          Powered by
          <a href="https://themefisher.com" target="_blank" rel="noopener">themefisher</a> for
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.
        </p>
      </div>
      <div class="col-md-6">
        <ul class="list-inline network-icon text-right">
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://twitter.com/grigeratomas" target="_blank" rel="noopener" title="DM Me"><i class="fab fa-twitter" aria-hidden="true"></i></a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/tgrigera" target="_blank" rel="noopener" title="GitHub page"><i class="fab fa-github" aria-hidden="true"></i></a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>
  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
